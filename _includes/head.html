<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    /* Prevent white flash by setting dark bg and text immediately */
    body {
      background-color: #1e1e1e !important;
      color: #d4d4d4 !important;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
  </style>

  {%- seo -%}
  {%- feed_meta -%}

  <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">

  <!-- Custom Highlight.js theme -->
  <link rel="stylesheet" href="{{ "/css/hljs-custom.css" | relative_url }}">

  <!-- Google Analytics (if enabled) -->
  {% if jekyll.environment == 'production' and site.google_analytics %}
    {% include google-analytics.html %}
  {% endif %}

  <!-- highlight.js support -->
  <script src="/js/highlightjs/highlight.min.js" defer></script>
  <script src="/js/highlightjs/languages/plaintext.min.js" defer></script>
  <script src="/js/highlightjs/languages/powershell.min.js" defer></script>
  <script src="/js/highlightjs/languages/tsql.min.js" defer></script>
  <script defer>
    window.addEventListener("DOMContentLoaded", () => hljs.highlightAll());
  </script>

  <!-- Dark mode with DarkReader -->
  <script src="https://unpkg.com/darkreader@4.9.40/darkreader.js" defer></script>
  <script defer>
    window.addEventListener("DOMContentLoaded", () => {
      DarkReader.setFetchMethod(window.fetch);
      DarkReader.auto({ brightness: 100, contrast: 90, sepia: 10 });
    });
  </script>
</head>
